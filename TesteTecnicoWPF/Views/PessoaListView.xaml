<Window x:Class="TesteTecnicoWPF.Views.PessoaListView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:converters="clr-namespace:TesteTecnicoWPF.Converters"
        mc:Ignorable="d"
        Title="Gerenciamento de Pessoas" Height="600" Width="1000"
        WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <converters:CpfMaskConverter x:Key="CpfMaskConverter"/>
        <converters:CepMaskConverter x:Key="CepMaskConverter"/>
    </Window.Resources>

    <DockPanel Margin="10">
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,10">
            <Button Content="Novo Cadastro" Command="{Binding NovoCommand}" Margin="0,0,5,0"/>
            <Button Content="Editar Selecionado" Command="{Binding EditarCommand}" Margin="0,0,5,0"/>
            <Button Content="Excluir Selecionado" Command="{Binding ExcluirCommand}"/>
        </StackPanel>

        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,5">
            <TextBlock Text="Filtrar por Nome:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox Text="{Binding FiltroNome, UpdateSourceTrigger=PropertyChanged}" Width="150" Margin="0,0,10,0"/>
            <TextBlock Text="Filtrar por CPF:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox Text="{Binding FiltroCPF, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource CpfMaskConverter}}" Width="120"/>
        </StackPanel>

        <DataGrid ItemsSource="{Binding PessoasView}"
                  SelectedItem="{Binding PessoaSelecionada, Mode=TwoWay}"
                  AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True"
                  MouseDoubleClick="DataGrid_MouseDoubleClick">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="Auto"/>
                <DataGridTextColumn Header="Nome" Binding="{Binding Nome}" Width="*"/>
                <DataGridTextColumn Header="CPF" Binding="{Binding CPF, Converter={StaticResource CpfMaskConverter}}" Width="Auto"/>
                <DataGridTextColumn Header="CEP" Binding="{Binding CEP, Converter={StaticResource CepMaskConverter}}" Width="Auto"/>
                <DataGridTextColumn Header="Logradouro" Binding="{Binding Logradouro}" Width="*"/>
                <DataGridTextColumn Header="Nº" Binding="{Binding Numero}" Width="Auto"/>
                <DataGridTextColumn Header="Bairro" Binding="{Binding Bairro}" Width="*"/>
                <DataGridTextColumn Header="Cidade" Binding="{Binding Cidade}" Width="*"/>
                <DataGridTextColumn Header="UF" Binding="{Binding Estado}" Width="Auto"/>
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</Window>